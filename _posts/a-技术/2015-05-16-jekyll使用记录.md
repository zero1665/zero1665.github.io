---
layout: default
title : jekyll搭建静态博客记录
categories: A-技术-git
tags: jekyll gentoo
---
###全局配置文件
_config.yml
###Front Matter
####预定义的全局**YAML**变量

```
layout               : 指定要使用的layout 文件（在_layouts目录下，不包含扩展名）
permalink            : 指定博客的URLs(默认是/year/month/day/title.html)
published            : 设置为 false 如果你不想让这篇博客在generate的时候显示
category/categories  : 指定分类(常用) 
tags                 : 类似categories, 可以指定一个或多个

```
###写博客
  博客放在 `_posts ` 文件夹下面，格式是html或markdown文件，所有的博客文件都必须包含 *YAML Front Matter*
  
  博客文件的命名格式 `YEAR-MONTH-DAY-title.MARKUP` 例如 *2015-05-16-how-to-write-a-blog.md*
  
 >可以使用`post_url` tag 连接到其它博客
 
 >为了正确的现实某些字符，最好定义你的字符集(charset)为utf-8 ，可以在你的layout的`<head>`标签里 设置 `<meta charset="utf-8">`


####包含图片等资源文件####

在项目目录下建立相应的文件夹，比如 新建`images`文件夹放图片，然后在博客中使用`site.url`变量去包含图片
例子：在博客中包含一个图片(images文件夹下)

```
… which is shown in the screenshot below:
![My helpful screenshot]({{ site.url }}/images/screenshot.jpg)
```

例子2：放一个pdf文件(assets文件夹下)让别人下载

```
… you can [get the PDF]({{ site.url }}/assets/mydoc.pdf) directly.

```

####显示文章的索引(index)
example:

```
{% raw %}
    <ul>
      {% for post in site.posts %}
          <li>
            <a href="{{ post.url}}">{{ post.title }}</a>
          </li>
      {% endfor %}
    </ul>
{% endraw %}
```

####文章摘录
继续用上面的例子，如果你要显示每篇博客的一部分内容，用如下设置

```
{% raw %}
<ul>
  {% for post in site.posts %}
      <li>
            <a href="{{ post.url }}">{{ post.title }}</a>
            {{ post.excerpt }}
      </li>
  {% endfor %}
</ul>

{% endraw %}

```

If you do not  want to wrap the excerpt in `p`  tags , use below code

```
{% raw  %}
    {{ post.excerpt | remove: '<p>' | remove: '</p>' }}
{% endraw %}
```

如果在某篇博客里不想生成摘要，可以在 `YAML Front Matter` 加一个 `excerpt`值，也可以自己定制一个`excerpt_separator`,例如：

```

---
excerpt_separator: <!--more-->
---

Excerpt
<!--more-->
Out-of-excerpt

```

如果想禁止所有博客的摘要，可以在 `_config.yml`文建立设置`excerpt_separator : "" `

####代码高亮
jekyll支持代码高亮，使用的是 Rouge 或 Pygments

代码高亮的专用Liquid tag 如下所示：

```
{% raw %}
{% highlight ruby %}
def show
  @widget = Widget(params[:id])
    respond_to do |format|
    format.html # show.html.erb
    format.json { render json: @widget }
  end
end
{% endhighlight %}
{% endraw %}
```

>让代码显示行号则要写成 `{% highlight ruby linenos %} {% endhighlight %}`

###创建pages
####homepage
根目录下的`index.html`文件

>在homepage中使用 layout

####额外的pages在哪里

主要有两种创建pages的方式：

+ 将每个page的Mamed HTML file都放在网站的根目录下
+ 在根目录下，为每个page新建相应的文件夹，然后每个文件夹下都放一个`index.html`文件。

两种方式可以结合使用，主要的区别是最终的实际URLs不同

方式1：Named HTML file 

项目根目录下的每一个`.html`文件都对应着一个page， 最终的URLs格式参见下面的例子：

```
.
|-- _config.yml
|-- _includes/
|-- _layouts/
|-- _posts/
|-- _site/
|-- about.html    # => http://example.com/about.html
|-- index.html    # => http://example.com/
└── contact.html  # => http://example.com/contact.html
```
方式2：包含 `index.html`的独立文件夹
直接参见例子：

```
.
├── _config.yml
├── _includes/
├── _layouts/
├── _posts/
├── _site/
├── about/
|   └── index.html  # => http://example.com/about/
├── contact/
|   └── index.html  # => http://example.com/contact/
└── index.html      # => http://example.com/
```
###static file
static file：不含有 YAML front matter 的文件，比如图片，pdf等文件。这些文件不能被渲染和翻译为html文件

They’re accessible in Liquid via `site.static_files` and contain the following metadata:
|VARIABLE	|DESCRIPTION|
|file.path       |The relative path to the file.|
|file.modified_time| The `Time` the file was last modified.|
|file.extname |The extension name for the file, e.g.  .jpg for image.jpg|

###变量
####全局变量

| VARIABLE |DESCRIPTION  |
|:-------|-----------    |
|`site`    |sitewide 信息+ `_config.yml`的配置信息|
|`page`    |Page specific information + the YAML front matter. Custom variables set via the YAML Front Matter will be available here.|
|`content` | 用在layout 文件中，指post和page里面被渲染的内容|
|`paginator`|When the paginate configuration option is set, this variable becomes available for use|

####site 变量
| VARIABLE |DESCRIPTION  |
|----------|----------|
|`site.time` |  当前时间|
|site.pages  | 所有pages的列表|
|site.posts  | 所有posts按照时间的倒序列表|
|site.static_files |所有static files 的列表. 每个文件有三个属性` path`, ` modified_time` and `extname`|
|site.html_pages|所有HTML Pages的列表|
|site.collections| 所有collections的列表|
|site.data | A list containing the data loaded from the YAML files located in the _data directory.|
|site.documents|A list of all the documents in every collection.|
|site.categories.CATEGORY|The list of all Posts in category CATEGORY.|
|site.tags.TAG| The list of all Posts with tag TAG.|
|site.[CONFIGURATION_DATA]| All the variables set via the command line and your _config.yml are available through the site variable. For example, if you have url: http://mysite.com in your configuration file, then in your Posts and Pages it will be stored in site.url. Jekyll does not parse changes to _config.yml in watch mode, you must restart Jekyll to see changes to variables.|

####Page 变量

| VARIABLE|DESCRIPTION|
|--------|-----------|
| page.content|The content of the Page |
| page.title| The title of the Page|
|page.excerpt|The un-rendered excerpt of the Page|
|page.url|  The URL of the Post without the domain, but with a leading slash, e.g. `/2008/12/14/my-post.html`|

**TODO**

####Paginator
###collections














